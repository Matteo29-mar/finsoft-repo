stage:

06/02/2023
primo giorno stage, posto enorme e se non sei del posto ti puoi confondere di dove andare.
Arrivato in ufficio ci hanno tramesso un ambiente sereno in cui lavorare nel momento giusto e ci si può rilassare o allentare la corda nei momenti più opportuni.
mi è stato dato il pc aziendale con debian 10 poi ho messo debian 11, nel pomeriggio ho scaricat oun paio di software tra cui vscode, git, docker, apache2
poi ho fatto una piccola web app con nodejs solo get e conteinerizzata

07/02/2023
Giornata iniziata con l'assegnazione da parte del nostro tutor e un collega, di creare un sito web semplice del nostro curriculum, dato che non siamo web developer 
non si aspettano un sito ben fatto, ma noi dobbiamo hostare il sito in un container il server web e possibilmente collegare un db per lanciarlo online.
il sito l'ho già quasi finito devo creare il container e tutta la parte docker.

08/02/2023
Prima parte della mattinata finito html e css, nella seconda parte della mattinata creazione modulo contatti con php per 
inviare le email. nel pomeriggio mi sono accorto che è un processo troppo lungo e complesso.
cambio approccio metto un link alla mia email e un form sempre.

09/02/2023
giorno di smart working, continuo la mia progettazione di questo sito a cui collegherò un database e si interfaccierà con php. 
ho pensato di mettere un link ancora dei miei social e un form di commenti dove l'utente scrive il nome e il contenuto che vuole
e questi caricati sul database.
Ci sono state delle difficoltà per dei permessi all'interno della macchina, quindi ho spostato il lavoro su un'altra macchina, li ho scaricato dei pacchetti di php, 
apache2 e mariadb server che avevo utilizzato per nextcloud, scaricato tutto ho fatto il db con le tabelle.
Funziona!! manda il commento per visualizzarlo ho scaricato phpmyadmin e vedo i commenti.

10/02/2023
inzio con aggiustare il css e aggiungo il footer.
mi è satto suggerito di fare una sezione login, interessante penso di procedere così nella sezione login una volta acceduto in base all'email posso vedere i 
commenti che scrivo io.
Effetuata la sezione register e login, ho fatto html e il php la registrazione avviene ci sono dei problemi con il login.
Risolto il problema del login, php non gli piacciono gli echo mettere i printf, manca solo hash della password.
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
13/02/2023
Inizio giornata mi reco in ufficio.
Effettuo dei test register e login funzionano, in metà mattinata faccio hash della password(10 30) funziona, dava solo dedi problemami per la
lunghezza ho aumentato la stringa nel db da 50 a 255. In caso l'utente non sia registrato o che digiti una password errata non può entrare
 Adesso mi dedico alla parte della sezione privata. la sezione privata funziona, ma devo vedere cosa mettere nelle varie sezioni root e utente.

 14/02/2023
 Mi dedico alla modifica ed eliminare i commenti, la modifica funziona sono riouscito ad integrarlo tramite una funziona javascript collegata ad  un pop up e al elimina php  ma non mi refresha la pagina. 
 sono riuscito a risolvere il problema del refresh ogni 15 secondi mi dedico all'elimina.

 15/02/2023
 giornata iniziata male, il design del sito era tutto storto, comoplice che il giorno prima avevo toccato il css, ho perso mezza mattinata a capire
 il problema, ho riportato la vesione del progetto a ieri prima della modifica tramite git hub sia lodato.
 il problema era un problema di cache del server web, basta fare crtl+shift+r per ricaricare il server ed è andato.
 nel finire della mattinata ho modificato il css che era tutto storto, i prossimi progetti li faccio con bootstrap.
 nel pomeriggio mi sono dedicato alla funzione elimina, parte tutto ok! ho usato una funziona javascript che utilizza il metodo XmlRequestHtpp per iniviare
 in modo asincrono richieste al server e ricevere una risposta in modo testuale.
 ora penso che mi dedico o al dockerfile oppure alla roba di ricorda password. 
 mi dedico al dockerfile, verso fine giornata ci hanno comunicato che da lunedì ci dedicheremo al nostro possibile 
 project work, una possibile web app dove uploadare i file, veramente fiho.

16/02/2023
giorno da remoto, mi dedico al dockerfile come ultima cosa tanto il progetto portofolio è finito domani ci spiegano 
il nostro progetto e lunedì lo iniziamo.
Alla fine non ho fatto il dockerfile.
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

20/02/2023
Oggi ci presentano il nostro progetto, una web app di caricamento di immagini max 10mb, per vendere dei proddotti. diviso in :
-privato entra nella index per vendere le sue cose sul sito, solo un file 
-aziendale vari file, login-register- elenco
-l'unica cosa comune il css e il js 
-superadmin possibiltà di modificare le chiamate delle inserzioni
no pop-up ma modali.
il giorno è iniziato con la creazione del team per il progetto, sono nominato team leader, abbiamo scelto i ruoli.
usiamo per la web app, apche2, mysql, php , html e css con aggiutna di javascript.
adesso sto facendo i branch le issue e il diagramma per la web app.
dopo aver creato lo schema delle relazione delle varie entità che serviranno per il progetto, per oggi mi dedico alla ricerca da domani si inizia a sviluppare .
oggi ho usato mysql-workbench per gestire online il database che poi servirà per le chiamate all'interno del web app.
la giornata è terminata con la creazione del team, lo schema relazionale che dovrà essere modificato in seguito, l'asseganzione delle issue, delle tecnologie da usare
e la creazione delle tabelle

21/02/2023
mattinata iniziata con la revisione del database, ho aspettato che i miei colleghi facessero e pushassero su main i loro front-end dell'area privata e del form.
ho conluso la mattinata facendo il diagramma e il il database.
nel pomeriggio farò delel cartelle per il db e magari del back-end di qualche passsaggio.

22/02/2023
assegnati i nuovi task della giornata, mi affretto a testare il back end della pagina login e registrazione non appena il mio collega pusha su git hub il suo lavoro. 
nel pomeriggio inizio a testare.
La maggior parte del lavoro che avevamo fatto non vabene. il form del privato per caricare l'immagine e i dati 
dell'utente troppo povera dovremmo aggiungere una navabar, footer e immagine di sfondo. Sono venute
delle complicanze su cosa decidere per il css perchè la pagina privato e azienda non sono uguali. Quindi è da fare
ache l'azienda da capo.
3 componenti del gruppo si sono dedicati al front-end della pagina, io nel pomeriggio mi sono portato avanti con
l'inserimento delle immagini tramite form.

23/02/2023
Oggi giornata di smart, cerco di risolvere il problema delle immagini.
ho passato la mattinata ha risolvere il problema delle immagini, risolto lo script era giusto ma non avevo i premessi 
per caricare l'immagine da form html all cartella del server web di apache2,
ho usato chmod 777 uploads/ , che è il nome della cartella 777 così do i permessi 
di scritturqa dentro alla cartella.
nel pomeriggio ho visto se si possono inserire più immagini 

24/02/2023
Sto facendo delle modifiche al codice di ieri ho aggiunto che tipo di file vengono accettate
come png, jpeg, gif, svg, il controllo di quanto è grande il file, se esiste un nome uguale e
la funzione di generare dei nomi randomici all'immagine per non avere nomi uguali.
ora provo a fare la pagina di visualizzazione  delle aziende per la proposta e poi la possibilità di inserire più immagini
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

27/02/2023
questo giorno affronto symfony per l'invio delle email, i file che servono solo è installare il composer tramite php e sul sito symfony,
composer require symfony/mailer, con questa riga ti installa il mailer nella cartella che vuoi e grazie all'aiuto di un tutor mi ha fornito il file 
config_test.php per l'invio delle email e funziona in modo manuale devo ovviamente implementare il tutto ma l'installazione è completata.
sono stati rilevati degli errori nell'organizzazione del progetto abbiamo preso la decisione di reiniziare da un punto comune.
symfony alla fine non l'ho fatto.

28/02/2023
la giornata si è aperta con noi, membri del gruppo che abbiamo ridisegnato la visualizzazione delle cartelle e la loro logica. 
successivamente ho sistemato i vari file css, rinominato dei file e creato de i file per far combaciare quasi il tutto, il resto l'ho lasciato ai altri 
membri del gruppo gli ultimi ritocchi.
adesso ritorno al back-end dell'invio delle email, ma prede solo la prima

1/3/2023
come prima cosa ho stamattina, ho risolto l'invio dell'email. funziona arrivano le email alle aziende registrate
nella mattinata ho incominciato a vedere per la dashboard aziendale i modali pop up per approvare o momento
un prodotto.

2/3/23
giornata iniziata con un po di problemi, sono in smart e il mio pc non era aggiornato con gli ultimi
aggiornamenti fatti, per promemoria bisogna creare la cartella uploads e poi andare su terminale con root
dare i permessi 777 alla cartella in questo caso ITS comando chmod 777 ITS, se non  dovesse funzionare
endtro in ITS faccio ls -lah per guardare sia i file ma anche i permessi ablitati se i file sono in 777 aposto 
se no bisogna prendere i file e metterli in 777 in questo modo chmod 777 uploads.php exempio, se poi volessimo avere
sempre i nuovi file chmod 777 ITS/* e prende i nuovi file ma se volessi farlo in modo ricorsivo chmod 777 ITS/*

3/3/23
oggi mi sto dedicando a mergiare le modifiche fatte nel finsoft-repo con its-stg23 branch matteo, sto riscontrando un po di problemia.
ho fatto l'upload dell'immagine, ma il clienti vuole più immagini da visualizzare, ma non so se riesco a farlo ci provo.
alla fine ho mergiato tutto e funziona
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
6/3/23
lunedì mattina, disastro perchè git hub non mi fa pullare le modifiche, poi ho scoperto che era un problema della chiave privata.
risolto questo scorpo che ho fatto questo errore, ho dato gli accesso 777 all'utente normale facendo avere gli stessi privilegi del root
mettendolo allo stesso livello suo, ma non potendo più accedere al root. in sostenza ho divuto resettare da zero il pc perdendo tutta la giornata.

7/3/23
oggi devo assolutamente fare la roba che riesco a prendere più immagini dal form.
Questo problema è stato risolto posso caricare più immagini contemporenamente adesso mergio tutto con il master

8/3/23
abbiamo passato la giornata a sistemare il carosello delle proposte dal lato azienda e sistamato il layout della dashboard_azienda, chi siamo, index e servizio
finito questo mi sono dedicato a portare tutto su master, dato che sta mattina c'erano stati dei problemi con delle versioni, in sostanza un nostro collega ieri ha
fatto delle modifiche ed ha pushato direttamente su main dimenticandosi di  pullare da main le modifiche fatte quindi ha sovvrascritto le modifiche che c'erano
con le sue, quindi distruggendo il carosello e la grandezza delle immagini. La soluzione è stata quella di prendere una vecchia versione del codice di quando il carosello
funzionava e inserirlo come nuova cartella azienda nel progetto, dava appunto due cambiamenti abbiamo adattatto il tutto e poi ho mergiato, adesso funziona tutto.
Quello che funziona é: registrazione dell'azienda e accesso ed controllato che tu faccia almeno una registrazione e poi un login per accedere all'area, poi è implementato 
la sezione dashboard facendo vedere le proposte con il carosello, lato privato è stato implementato il form di caricamento dati e immagini nel server web e salvataggio nel db
si posso salvare o uno o più immagini e si sta procedendo alla vista dell'admin. Tutto questo viene visto nel db.
Mancano come funzionalità: vedere le immagini caricate nel carosello, invio email da privato ad azienda e il contrario, vista tutto admin e spostamento proposte ignorate
dalla azienda in una tabella proposte elimiante per eliminare solo di quell'azienda.

9/3/23
giorno di smart, oggi non mi sono dedicato al codice ma alla ricerca di come potessi integrare la web app in cloud,
penso di hostarel'applicazioni in un server virtuale di aws per essere sempre on line ovviamente ci sarebbe bisogno
di mantenerla e poi ho controllato l'uso di un server smtp per l'invio delle email con aws ed ho trovato ses,
il servizio di aws per imnviare email, ho già visionato delle documentazionje per farlo. 
Infine ho guardato dei corsi per cloud per milgiorare delle skill per rendere meglio a lavoro

10/3/23
Venerdì, mi sto dedicando alla visione delle immagini nel carosello, sto riscontrando dei problemmi.
Nel pomeriggio sono andato avanti mettendo questa porzione di codice per creare le immagini numerate all'interno dellas cartella 
for ($i = 0; $i <= count($image_file["name"]); $i++) {
    $file_extension = strtolower(pathinfo($image_file["name"][$i], PATHINFO_EXTENSION));
    $new_filename = uniqid() . '_' . $image_file["name"][$i];
    $target_file = $target_dir . $i+1 . ".$file_extension";
}

funziona in parte
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
13/3/23
Oggi mi devo dedicare a finire le robe di venerdì, sono ruuscito a caricare le immagini nella card generata in modo automatico in base a quanti 
prodotti ci sono nel database per fare ciò ho dovuto fare una api in php prendendo i file chiamati barra.php, dashboard_azienda.php e carosello.php
        <img class=\"postcard__img\" src=\"$img\" alt=\"Img\" id_prodotto=\"$id_prodotto\" onclick=\"riempiInput(event)\" />
-barra.php   <img class=\"postcard__img\" src=\"$img\" alt=\"Img\" id_prodotto=\"$id_prodotto\" onclick=\"riempiInput(event)\" />
    in questa riga dobbiamo prendere la parte id_prodotto per prendere l'id.
-dashboard_azienda.php       <script>
                        function riempiInput(event) {
                            var bottone = event.currentTarget;
                            var id_prodotto = bottone.getAttribute('id_prodotto');

                            let data = new FormData();
                            data.append('id_prodotto', id_prodotto);

                            fetch('../../controller/carosello.php', {
                                    method: "POST",
                                    body: data
                                })

                                .then(data => {
                                    console.log(data)
                                    if (data.status !== 200) {
                                        alert('Qualcosa è andato storto...');
                                        throw new Error(`Error ${data.status}`);
                                    }
                                    data.json().then(data => {
                                        let indicators = document.getElementById("tab_indicators")
                                        let tab = document.getElementById("tab_inner")
                                        indicators.innerHTML = data.indicators
                                        tab.innerHTML = data.inner
                                    })
                                })
                                .catch(err => {
                                    console.error(err)
                                })
                        }

                        var bottoni = document.querySelectorAll('[id_prodotto]');
                        bottoni.forEach(function(bottone) {
                            bottone.addEventListener('click', riempiInput);
                        });
                    </script>
in questa api che non è rest full prendo id da barra.php poi mando tutto a carosello.php per fare lo scandir  della cartella e vsionare le immagini.
a fine giornata sono con le immagini che si aprono in tutte le card, ci penserò domani.

14/03/23
Obbiettivo è quello di visionare le immagini rispettive al carosello per farlo ho dovuto implementare delle parti di codice nel carosello,php e dashboard_azienda.php 
-carosello.php
    <?php
// connessione al database
$conn = mysqli_connect("10.9.1.218", "ITS-STG2023", "ITS-STG2023", "ITSSTG2023");
// Verifica la connessione
if (!$conn) {
    die("Connessione al database fallita: " . mysqli_connect_error());
}
if (isset($_REQUEST['id_prodotto'])) {
    // ottenere il nome della cartella delle immagini dal database
    $sql = "SELECT immagini FROM prodotti WHERE id_prodotto = " . $_REQUEST['id_prodotto'];
    $result = $conn->query($sql);

    if ($result->num_rows > 0) {
        $row = $result->fetch_assoc();
        $image_folder = $row['immagini'];
    } else {
        echo json_encode("Nessun prodotto trovato con questo ID.");
        exit;
    }
    // ottenere un array di tutti i nomi dei file di immagine nella cartella
    $image_files = glob("../immagini/uploads/$image_folder/*");
    // è una stringa vuota per creare il markup HTML per il carosello di immagini , sono i componenti del carosello 
    $indicators ="";
    $inner = "";
    //$index = indice corrente $image_file il valore di ogni elemento dell'array  durante il for
    //questo foreach serve per creare un div con la class... e un 'immagine all'interno scorrendo l'array
    foreach ($image_files as $index => $image_file) {
        if($index == 0){
            
            $indicators.= '<button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="'.$index.'" class="active" aria-current="true" aria-label="Slide '.($index+1).'"></button>';
            $inner.='<div class="carousel-item active"><img src="../'.$image_file.'" class="d-block w-100" alt="..."></div>';
        }else{
            
            $indicators.='<button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="'.$index.'" aria-label="Slide '.($index+1).'"></button>';
            $inner.='<div class="carousel-item "><img src="../'.$image_file.'" class="d-block w-100" alt="..."></div>';
        }
      
    }

    mysqli_close($conn);
    echo json_encode(['inner' => $inner, 'image' => $image_files , "indicators"=>$indicators]);
} else {
    echo json_encode("Nessun prodotto trovato");
}
?> 
prima c'è la solita parte di connesione al db e query, poi faccio lo scandir della cartella, ma la parte nuova è quando entro nel foreach perchè 
se indice è == 0 nel if innietta nel html un tipo di immagine active se è falso tutte le altre no, active per dirlgi redi attivo quel tipo di immmagine.
poi per portare tutto alla api gli mando in json  a dashboard_azienda.php  echo json_encode(['inner' => $inner, 'image' => $image_files , "indicators"=>$indicators]);

in dashboard per visionare il carosello ho messo questo html 
<div class="modal-body">
                    <!-- Carosello di immagini -->
                    <div id="carouselExampleCaptions" class="carousel slide">
                        <div class="carousel-indicators" id="tab_indicators">
                        </div>
                        <div class="carousel-inner">
                            <span id="tab_inner"></span>
                            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Previous</span>
                            </button>
                            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Next</span>
                            </button>
                        </div>
                    </div>
                </div>

tab_indicators e tab_inner sono i due id che servono per tutto sia alla api infatti vengono dichiarati li e poi nei dashboard_azienda e carosello
funziona tutto le immagini rispettive nei caroselli 

15/03/23
mercoledì mi sono dedicato di come hostare la web app su aws, ho creato la vpc per accedere alla macchina facendo le regole di routing 80 e 22, successivamente ho 
creato una istanza ec2 con un debian da 1 gb di ram e 1vcpu per un 30 gb di spazio, avrei voluto attacarci bucket s3 per attacarci i file come css, js ...
una volta creata però non potuto procedere perchè mi trovo dentro una vpn e dovrei da quello che ho capito modificare dei sttaggi della vpn dell'azienda e poi 
perchè domani dovremmo fare un  colloquio con un'altra deivisione dell'azienda di cloud, non so ch aspettarmi, quindi domani niente smart vado a Torino.
alla fine host su aws, l'ho fatto ma non ha portato a nulla per problemi di rete aziendale

16/3/23
Oggi siamo a Torino per  fare il colloquio con quelli del'altra divione dell'azienda, nel frattempo vado avanti con la web app. Mi sono assegnato una nuova issue 
nel progetto mi dedicaherò delle email e invio email da parte del form all'azienda e viceversa.
Ci hanno parlato quelli del repartyo cloud, una volta terminato questo progetto ovvero il 31 Marzo verremo assegnati a questo progetto per volskvagen in pratica vogliono
traferire il loro complesso di servizi da un mainframe e farlo su aws un progetto tanto enorme quanto stimolante.
Continuando con il progetto ho fatto questo per l'upload
/* Inserimento dati database, inzio con iserimento di privati poi dopo aver fatto if che controlla che la connesione è andata con successo 
  dopo qello fa crea la variabile $id_privato e la prende con la funzione mysqli_insert_id dopo fa la seconda query $sql2 e fa la stessa cosa della prima
  dopo aver fatto l'inserimento faccio update della tabella privati e aggiungo $id_prodotto nella colonna della tabella poi chiudo tutto*/
  $sql = "INSERT INTO privati (nome, cognome, email, telefono) VALUES ('$nome', '$cognome', '$email', '$telefono')";
  if ($conn->query($sql) === TRUE) {
    // Ottieni l'id generato automaticamente per il nuovo record
    $id_privato = mysqli_insert_id($conn);
  } else {
    echo "Si è verificato un errore durante il salvataggio delle informazioni relative all'immagine nel database: " . mysqli_error($conn);
    header("location:../index.php");
  }
  $sql2 = "INSERT INTO prodotti (titolo, descrizione, immagini, data_creazione, id_privato) VALUES ('$titolo', '$descrizione', '$folder_name', '$data', '$id_privato')";
  if ($conn->query($sql2) === TRUE) {
    // Ottieni l'id generato automaticamente per il nuovo record nella tabella prodotti
    $id_prodotto = mysqli_insert_id($conn);

    // Aggiornamento della tabella privati con l'id del prodotto
    $update_sql = "UPDATE privati SET id_prodotto='$id_prodotto' WHERE id_privato='$id_privato'";
    if ($conn->query($update_sql) === TRUE) {
      echo "Le informazioni relative all'immagine sono state salvate nel database.";
      header("location:../index.php");
      
      require_once "invio_email.php";
    } else {
      echo "Si è verificato un errore durante il salvataggio delle informazioni relative all'immagine nel database: " . mysqli_error($conn);
      header("location:../index.php");
    }
  } else {
    header("location:../index.php");
  }



17/3/23
Nella gioranta di oggi ci stiamo dedicando a sistemare alcune cose inerenti a grafica varia, poi ho assistito un mio collega per fare la parte di eliminazione logica del
prodotto quando un'azienda clicca sul tasto elimina.
io mi sto cercando di ultimare la parte di gestione delle email e di integrare qualcosa di sicurezza informatica per prevenire degli attacchi.
la parte di sql injection è stata finita adesso la web app è protetta da questo lato qui devo finire però il lato email e mmagari altre cose di sicurezza informatica
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
20/3/23
inizio settimana, inziato con problemi sul server perchè ci hanno spento il db online. quinid abbiamo dovuto portare tutto in locale, menomale che avevo un backup 
aggiornato a giovedì. Notizia domani ci spostano di progetto per lavorare sul progetto per volskvagen in cloud, bene.
il progetto della web app verrà continuato dal nostro collega è stato fatto quasi tutto lasciamo il progetto ad un 90% del completamento. mancano delle piccolezze
ps è stato un'errore di valutazione, non ci spostano nel progetto reale ma vogliono testare le nostre competenze con altre tecnologie

21/3/23
oggi si inizia con il nuovo progetto, java 17  con spring boot dei microservizi(bibloteca online),
springm, data crud no front end, db in locale uguale per tutti, swagger, docker file e poi la parte di aws con la creazione di cluster  e jpa.
dealine no, incontro ogni due giorni
mi sono dedicato a fare il database, uso solo uno perchè non serve avere più database per solo 3 tabelle(clienti, prestiti e libri) con dei dati che sono uguali, se fossero di più si
poi ho installato intelly idea e tutte le configurazioni per questo ide.
mysql workbench non funziona ho dovuto fare con phpmyadmin.
ho usato poi spring initrl per creare i servizi per creare il microservizi ho usato come dipendenza( starter web, mysql jbcd, dev tools, data jpa, thymeleaf, lombok)

22/3/23
la giornata iniziata con la connessione internet che non c'è quindi sto aspettando che torni, sto andando lentamente ma ho fatto il spring boot.

23/3/23
con oggi mi sono dedicato alla creazione del microservizio dei clienti, ho concluso il controler, entity ,repository, service e i test.
sembra andare tuto tranne il test del delete id del cliente. ovviamente tutto senza connessione al db

24/3/23
oggi c'è stata la prima lezione del project work, abbiamo parlato delle nostre situazioni e di incominciare a  segnarci quello che abbiamo fatto
nel pomeriggio sono tronato in azienda  e  ho chisto una mano per il test, sembra che stia andando troppo veloce sul da farsi, in realtà non ha tutti i torti dovrei capire meglio 
quello che sto facendo. mi ha fatto smontare il repository modificare il contorller e mi hanno detto di non fare i test non servono e infine di non fare un microservizio per robe ma
di fare un unico file spring con clienti, libri e prestiti per risparmiare sul traffico tra un microservizio ed un'altro.
alla fine non sono riuscito a far andare il main sembra che ci sia un problema con delle porte dovrei sistemarle e modificare il controller 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
27/3/23
oggi ho rifatto il progetto, ma prima di fafrlo erso riuscti a fare le chiamate api con postaman e funziona. ma nella mattinanta ho dovuto fare braistorming e rifare il progetto
e andare più lentamente ho iniziato con il fare da capo inizialr e fare una api get semplcie per riportare su swagger, dopo abbiamo deciso di fare da capo tutte le le crud e definirle.
ho imparato ad utilizzare apache net beans per creare gli entity e fare i dto, con maps struct faremo i mapper e il repostitory nuovo. per ora ho fatto solo i 5 controller del libro
funziona net beans

28/3/23
Giornata iniziata con aver risolto il problema del driver di mariadb tramite il comando sudo apt-get install libmariadb-java, dopo quello ho aperto netbeans, nel progetto fantoccio 
che ho fatto ho cliccato su other->entity from database-> ed ho selezionato il nuovo driver di mariadb per creare le entity(noi lo usiamo solo per quello ma volendo lo poassiamo fare come ide di sviluppo)
successivamente dopo aver importato le entity generate su intelly idea ho creato il dto per libri, clienti e prestiti come le entity e nel pomeriggio ho fatto il maps structper fare il 
mapping tra entity e dto8 che seve per interfaccairsi con il front end  e fare tutte le operazioni senza intaccarre entity che serve solo come modello per il database.

29/3/23
Ci siamo dedicati alla parte del repository e connesione solo che dava problemi con il hibernate e validation, superatop questo problema ci siamo messi a fare il primo getall dei libri

30/3/23
con oggi devo finire le crud dei libri, sono riuscito a fare il controller del get isbn e il service del get isbn. 
ho anche fatto gli altri ma danno errore 500

31/3/23
Nella giornata di oggi mi sono dedicat alla creazione delle altre tipi di crud, sono riuscito a realizzare la post( dovevo eliminare tutte le dipendenze della chiave esterna che si tirava su), 
ho fatto anche il delete del libro, manca solo update che mi da errore 500.
Quindi ho la get all, il get isbn, la post e il delete.
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
3/4/23
lunedì mattina nella giornata di oggi cerco di fare update del libro, devo riuscire a creare questo.
Sono riuscito a fare la put del libro, dovrei scrivere meglio i controller . Al massimo faccio il cliente.
Ho fatto il dto, entity, repo, mapper e sto finendo il controller e il service del cliente. e parte lo swagger.

4/4/23
oggi ho concluso il microservizio del cliente ed ho aggiustato in meglio dei controller finendo anche il service.
ho imparato delle cose nuove per quanto riguarda lo sviluppo  delle logiche del controller in spring bootstrap

5/4/23
Con oggi dovrei affrontare meglio il discorso di jpa repository, sistemo il codice del controller e mi dedico a prestiti, dopo prestiti dovrei iniziare a vedere per il container 
e docker per istanziarlo su aws

6/3/23
giornata iniziata con il docker dell'applicazione, il docker spring boot non parte da dei problemi  alla connessione del db.
allora ho fatto il db di mariadb con il container eseguito con la riga  docker run -dit --name bibliodb --env MARIADB_USER=finsoft --env MARIADB_PASSWORD=finsoft --env MARIADB_ROOT_PASSWORD=root  mariadb:latest
e con questo ho creato il container, usato anche heidesql per visionare il db fatto con istanze mi sono importato il file .sql biblioteca. 
ho creato le tabelle della biblioteca, successivamente ho voluto mettere le porte 3333:3306 per connettermi.
per testare ho provato a runnare l'app senza il container attaccato al db docker, non parte da connesion refuse perchè lo yaml c'è localhost:3306, non si connette perchè si tenta 
di connettersi al localhost della macchina e non del docker quindi sono andato sul terminale ed ho eseguito docker exec -it bibliodb bash, In sintesi, il comando "docker exec -it bibliodb bash" consente di accedere alla shell 
di un container Docker denominato "bibliodb" e di interagire con esso come se si fosse effettivamente loggati all'interno del sistema operativo del container.
entrato dentro il container ho fatto hostname -I per scoprire host, di cui era 172.18.0.2( però potrebbe cambiare dovrei fare una network) ho sostituito nello yaml 
da localhost ip del container e da qui è partito il tutto, ma senza il docker dello spring boot perchè lo faccio e va in connection timeout.
oggi inoltre siamo andati sopra al 5 piano per parlare con il responsabile aziendale roberto Leva per fare un punto della nostra situazioni durante lo stage, a me solo
è stato offerto di andare a lavorare con il team di cebrosa insieme a dEnrico un responsabile della parte di aws qui a presetn, non ho rifiutato ma ho fatto capire che
sono interessato ma per questioni di tempo e viaggio mi viene scomodo ma che sarei disponibile ad lavorare via meet oppure andare anche solo una volta a settimana ma in teoria dovrebbe venire anche lui 
li qui a finsoft
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
12/4/23
oggi ho fatto tutta la giornata docker, sono risuctito a fare due container uno con uno spring boot e mariadb, partono si comunicano.
i problemi erano che nello yaml dicevo di collegarsi al ip quando creavo il container ivece dovevo mettere e fare la build con il nome del container e poi pechè non specificavo 
il nome dell'immagine io facevo docker build -t prova . invece dovevo fare docker build -t prova:1.0 . che specificava anche il tag per farlo partire docker run --name prova --network netspring prova:1.0
sono partiti.
mi hanno assegnato di fare lo swarm docker domani lo affronto

13/4/23
gioranta di smart, ho aiutato un mio collega a risolvere dei problemi poi mi sono dedicato a mettere in pari il mio pc con il pc d'ufficio e ho rifatto partirei due container
separati da solo, poi ho installato virtualbox ed una versione di debian 11 per metterlo nella macchina virtuale. tutto quest oper fare lo swarm ma non ci sono
riuscito perchè non funzioanva la macchina virtuale penso per potenza inadatta del mio pc di casa domani con il pc d'ufficio.

14/4/23
Venerdì, ho installato virtualbox per creare una serie di worker per il mio cluster di swarm di docker, perso la mattina per installare debian 11 sulla macchina, per evitare 
di dover installare da zero la vm mi sono fatto una copia vuota prima di iniziare a lavorare. 
Dentro la vm ho installato docker e importato la chiave d'accesso al manager dello swarm sulla macchina fisica, si parlano e adesso sto per fare il service vediamo se riesco abbiamo
replicare lo spring boot sul worker.
Dopo aver fatto la riunione mi è stato chiesto di deployare il docker-compose.yaml, di sono dei problemi con la connesione ad db.
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
17/4/23
Dopo la riunione di sta mattina, ho esposto il mio problema e mi è stato detto di creare un volume per avere la persistenza dei dati, il problema è che quando tento di connettermi al db
il database non è stato creato  e quindi non lo trova quando tento di creare il compose.
Dopo aver creato il volume il compose è partito adesso faccio ulteriore test.

18/4/23
Martedì, oggi mi è stato assegnato una nuova tsk ovvero quello di creare una replica del container che è al'interno del docker-compose dentro la macchina virtuale usata per lo 
swarm. i comandi usati per creare lo stack sono stati:
-docker swarm init per creare il manager che mi ha creato una stringa con un token da inserire nella vm e li ho creato il worker.
-docker node ls per vedere i nodi 
poi dopo questo ho modificato nel docker compose.yaml e inserito questo per replicarlo    
 deploy:
      replicas: 3
      placement:
        max_replicas_per_node: 1
      restart_policy:
        condition: on-failure
- creato lo stack con il comando docker stack deploy --compose-file docker-compose.yaml stackspring per creare lo stack e crearlo nel worker anche, creato solo per lo spring non 
per il db perchè non è buona norma, per ridondanza di dati e dupliazione
-docker stack ls per vedere lo stack oppure docker stack service stackspring
-docker stack ps stackspring per vedere quelli attivi
-docker stack rm stackspring per stoppare e rimuovere lo stack.
tutto e non riesco a farlo partire lo swagger rimane appesso e non si connette allo swagger, domani cerco di risolvere il problema sicuro devo mappare meglio le porte

19/4/23
Oggi ho avuto dei problemi con lo swarm praticamente non riesco ad far andare in stato running il docker dello spring sul worker ma nel managere riesco a far runnare dallo stack del docker compose 
il database, oggi il mio tutor non era reperibile e quindi mi sono dovuto arrangiare. Ho provato a vedere della roba con kubernetes mentre aspettavo che il mio tutor mi rispondesse.
Praticamnete il mio problema è che non si connette il worker al spring 

20/4/23
gioranta di smart, oggi mi ha contattaato il mio tutor in cui mi ha suggerito di fare cosiì nel deploy dello stack, ---with-registry-auth = estende la login alla altre imagini 
sotto deploy docker  stack deploy, di mettere lo spring anche sul manager , ip del worker per testare la chiamata swagger e di usare apache jmiter per fare stress test
nell'applicazione. 

21/4/23
docker service create --name springprova --restart-condition on-failure --replicas-max-per-node 1 --replicas 2 --with-registry-auth --publish 8080:8080 matteo29mar/spring:2.1
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
26/4/23
In questa giornata mi sono dedicato alla tesi per ITS

27/4/23
Sto attendendo per aws nel frattempo faccio la tesi 

28/4/23
Con oggi spero che mi dicono qualcosa nel mentre faccio la tesi, oggi mi hanno comunicato che martedì iniziero con il tipo di aws
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
2/5/23
oggi abbiamo fatto la call con quello di aws, ci hanno passato a lui e ci ha comunicato che faremo delle attività sul mondo aws.
molto probabilmente deployeremo l'immagine docker su aws e quindi sarà messo nella tesi sta parte di aws.

3/5/23
ho fatto l'inizializzazione dell'account aws cloud quest, è un gioco per imparare a gestire le problemi dei cloud di aws. 
Nel gioco ho creato un bucket s3 per hostare un sito statico
4/5/23
sono andato avanti con il gioco ed ho fatto gli ec2 ed ho fatto la call con quelli di l3-cloud per aws, per mettere lo spring boot nel mondo aws

5/5/23
fino a martedì 9 continuiamo con il gioco di aws, ho imparato come si usa la vpc tutta la parte inerente della network (in parte) in più ho continuato a fare quiz e imparare
schemi di uso delle tecnologie di aws.
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
8/5/23
Con oggi la giornata verrà divisa in varie parti , ovvero dalle 9 00 alle 11 00/11 30 vado avanti con la tesi, 11 30 13 00 aws. Nel pomeriggio 14 30 fino alle 16 00 tesi e in fine dalle 16 30 fino alle 17 30 aws.

9/5/23
oggi abbiamo fatto conoscenza con due del team cloud di present, aqbbiamo fatto un po di aws cost explorer o comunemente chiamata calculator.
Ci ha parlato di deployare lo spring boot su ambiente aws.
In più oggi ho parlato con Roberto Leva il responsabile dell'azienda in cui mi ha comunicatoche sono stati molto contenti della mia persona e che sarebbero felici di prendermi
dopo gli esami e continuare con il tirocinio.

10/5/23
Stessa cosa degloi altri giorni, tesi e aws.
Però un mio colega è venuto a chiederemi di fargli una requisiti dei costi per la sua applicazione, ho guardato vari sewrvizi cloud, tra cui aws, azure ... alla fine sono andato per aruba.
che è la cosa migliore per questo utente  dato che deve solo hostare invece servizi cloud come aws sono più per chi deve creare una infrastruttura da zero.

11/5/23
Oggi continuato con lo schema architetturale e la tesi.
Ho fattoi la chiamata con il team di cloud per vedere come procedere per il restante dello stage. ovvero schema, aws calculator, discussione e build e deploy dell'ambiente.

12/5/23
Oggi ho fatto alcune cose interessanti.
ho aiutato un collega con un problema con un dockerfile per un progetto java.
sono andato avanti con le stime dell'appliczione spring boot ho fatto la suddivisione stima1 e stima2
ho migliorato lo schema architetturale su drawio.net 
ho visto il procedimento per installare aws cli (installata) e di partire da un dockerfile (praticamente un docker build) al pushare nel elastic container registry.
andato avanti con la tesi 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
15/5/23
lunedì oggi sono andato avanti con la tesi e lo schema architetturale in vista della chiamata di domani.

16/5/23
dopo la chiamata di sta mattina, ci sono dei miglioramenti da fare per  lo schema ovvero specificare le porte, scelgliere uno degli schemi e implementarlo in modo corretto
e infine di vedere informazioni su aws ECS e aws app runner. in pratica ecs( fargate) serve per gestire i container docker utilizza il registry di ecr invece aws app runner
serve per gestire in modo automatico l'infrastruttura dell'applicazione per  dedicarsi ad una migliore gestione del codice.
infine quindi sto vedendo documentazione su ecs e app runner e il nuovo schema 

17/5/23
mercoledì, niente di impegnativo andato avanti con le solite cose
18/5/23
in smart abbiamo fatto una chiamata per accordarci di creare qualcosa su aws
19/5/23
pensavo che dovessero creare loro la vpc e il tutto ma in realtà dobbiamo farla noi, lunedì la faccio
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
22/5/23
Oggi inizia ultima settimana di stage, un po giù sono perchè mi sono trovato molto bene qui, mi sono sentito impegnato e qualche volta sevito a qualcosa.
Con oggi andiamo a lavorare su aws nella creazione della vpc, subnet e servizio ecs per deployare su cloud l'applicativo della biblioteca.

23/5/23
oggi non ho fatto nulla, in pratica ho tribulato tutto il giorno con le chiavi private per ec2. ho lasciato perdere ecs tanto non funziona.
appena torno a casa provo con le ec2 su windows per putty, funziona domani porto il pc in ufficio

24/5/23
Giorno memorabile, sono riuscito a far partire un ec2 con ami di linux amazon, t2.micro ho  installato docker e fatto partire i container in modo separato.
per far vedere l'applicativo online ho dovuto incollare l'indirizzo ip publico + la mappatura ovvero dns_pubblico:8080/swagger-ui/index.html così sono riscito a far vedere lo swagger anche
all'esterno. ovviamente ho dovuto impostare le porte da security group in modo tale che prendesse la porta 8080 dall'esterno e anche quando ho fatto partire il container gli ho esposto la 8080:8080
Dei miglioramenti da fare sono:
1) impostare una vpc corretta
2) impostare regole più specifiche d'ingresso e non tutte le porte
3) attaccare un database rds per parlare con ec2
4)fare il front end 
